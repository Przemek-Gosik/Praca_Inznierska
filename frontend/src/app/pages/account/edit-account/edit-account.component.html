<div>
    <nav class="bg-breadcrumb">
        <div class="">
          <div class="col s10">
            <a href="/" class="breadcrumb " style="padding-top:500px"><b>Strona główna</b></a>
            <a href="/account" class="breadcrumb " style="padding-top:500px"><b>Moje konto</b></a>
            <a href="/account/editaccount" class="breadcrumb " style="padding-top:500px"><b> Edycja danych</b></a>
          </div>
        </div>
    </nav>
        <div class="row grid">
            <div class="row link">
                <div class="row home">
                    <h4 style="text-align:center"><b> {{title}}</b></h4>
                </div>
                <div>
                    <h5><b>Zmień login</b></h5>
                    <form #changeLoginForm="ngForm">
                        <div class="row">
                            <div class="center">
                                <div class="input-field col s12">
                                    <i class="material-icons validate prefix">account_circle</i>
                                    <input 
                                        id="login" 
                                        type="text" 
                                        [(ngModel)]="newLogin.newLogin"
                                        name="login"
                                        class="validate"
                                        #login="ngModel"
                                        minlength="5"
                                        maxlength="15"
                                        required
                                        />
                                    <ng-container *ngIf="login.invalid && login.touched ">
                                        <div class="invalid-data" *ngIf="login.errors?.['required']">
                                            Login jest wymagany!
                                        </div>
                                        <div class="invalid-data" *ngIf="login.errors?.['minlength']">
                                            Login musi mieć przynajmniej 5 znaków!
                                        </div>
                                        <div class="invalid-data" *ngIf="login.errors?.['maxlength']">
                                           Login nie może mieć więcej niż 15 znaków!
                                        </div>
                                    </ng-container>
                                    <label for="login">Nowy login</label>
                                    <div class="invalid-data" *ngIf="editLoginFailed" >
                                        {{errorLoginResponse}}
                                    </div>
                                    <button class="waves-effect waves-ligth btn-small btn-2" type="submit" [disabled]="changeLoginForm.invalid" (click)="editLogin()">Zmień login</button>
                                    <button class="waves-effect waves-ligth btn-small btn-2" type="reset" (click)="resetLoginError()">Wyczyść</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- <div>
                    <h5><b>Zmień email</b></h5>
                    <form #changeEmailForm="ngForm">
                        <div class="row">
                            <div class="center">
                                <div class="input-field col s12">
                                    <i class="material-icons prefix">email</i>
                                    <input 
                                        id="email" 
                                        type="email" 
                                        [(ngModel)]="userEdit.email"
                                        name="email"
                                        pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" 
                                        class="validate"
                                        #email="ngModel"
                                        required
                                        email
                                        />
                                    <ng-container *ngIf="email.invalid && email.touched">
                                        <div class="invalid-data" *ngIf="email.errors?.['required']">
                                            Adres e-mail jest wymagany!
                                        </div>
                                        <div class="invalid-data" *ngIf="email.errors?.['pattern']">
                                            Adres e-mail jest niepoprawny!
                                        </div>
                                    </ng-container>
                                    <label for="email">Nowy adres e-mail</label>

                                    <button class="waves-effect waves-ligth btn-small btn-2" type="submit" [disabled]="changeEmailForm.invalid" (click)="editLogin()">Zmień login</button>
                                    <button class="waves-effect waves-ligth btn-small btn-2" type="reset">Wyczyść</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div> -->
                <div>
                    <h5><b>Zmień hasło</b></h5>
                    <form #changePasswordForm="ngForm">
                        <div class="row">
                            <div class="center">
                                <div class="input-field col s12" >   
                                    <i class="material-icons validate prefix">vpn_key</i>
                                    <input 
                                        id="oldpassword" 
                                        type="password" 
                                        name="oldpassword"
                                        [(ngModel)]="newPassword.oldPassword"
                                        class="validate"
                                        [type]="hideOld ? 'password' : 'text'"
                                        minlength="5"
                                        #oldpassword="ngModel"
                                        required
                                        />
                                        
                                        <ng-container *ngIf="oldpassword.invalid && oldpassword.touched">
                                            <div class="invalid-data" *ngIf="oldpassword.errors?.['required']">
                                                Stare hasło jest wymagane!
                                            </div>
                                            <div class="invalid-data" *ngIf="oldpassword.errors?.['minlength']">
                                                Stare hasło musi mieć przynajmniej 5 znaków!
                                            </div>
                                        </ng-container> 
                                        <label for="oldpassword">Stare hasło</label>
                                        <button class="btn-visibility" mat-icon-button matSuffix (click)="hideOld = !hideOld" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideOld">
                                                <mat-icon>{{hideOld ? 'visibility_off' : 'visibility'}}</mat-icon>
                                        </button>       
                                </div>
                            </div>
                                <div class="row">
                                    <div class="center">
                                        <div class="input-field col s12" > 
                                            <i class="material-icons validate prefix">vpn_key</i>
                                            <input 
                                                id="newpassword" 
                                                type="newpassword" 
                                                name="newpassword"
                                                [(ngModel)]="newPassword.newPassword"
                                                class="validate"
                                                [type]="hideNew ? 'password' : 'text'"
                                                minlength="5"
                                                #newpassword="ngModel"
                                                required
                                                />
                                                <ng-container *ngIf="newpassword.invalid && newpassword.touched">
                                                    <div class="invalid-data" *ngIf="newpassword.errors?.['required']">
                                                        Nowe hasło jest wymagane!
                                                    </div>
                                                    <div class="invalid-data" *ngIf="newpassword.errors?.['minlength']">
                                                        Nowe hasło musi mieć przynajmniej 5 znaków!
                                                    </div>
                                                </ng-container> 
                                                <label for="newpassword">Nowe hasło</label>
                                            <button class="btn-visibility " mat-icon-button matSuffix (click)="hideNew = !hideNew" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNew">
                                                <mat-icon>{{hideNew ? 'visibility_off' : 'visibility'}}</mat-icon>
                                            </button>
                                            <div class="invalid-data" *ngIf="editPasswordFailed" >
                                                {{errorPasswordResponse}}
                                            </div>
                                        </div>
                                    <button class="waves-effect waves-ligth btn-small btn-2" type="submit" [disabled]="changePasswordForm.invalid" (click)="editPassword()">Zmień hasło</button>
                                    <button class="waves-effect waves-ligth btn-small btn-2" type="reset" (click)="resetPasswordError()">Wyczyść</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
        </div>
    </div>